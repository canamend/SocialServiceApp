<loading-overlay *ngIf="isLoading"></loading-overlay>
<div class="container test-container" *ngIf="test">
    <p class="test-intructions">Selecciona la frecuencia con la que te ocurren las siguientes situaciones. No hay respuestas buenas ni malas.</p>
    <div class="test-content" *ngIf="questions[con]; else finalizar">
        <h2 class="test-name title"> {{ test.nombre }} </h2>
        <div class="test-question-container">
            <h3 class="question-text"> {{ questions[con].nombre }} </h3>
            <figure class="question-image-container">
                <img class="img" src="assets/images/questions/{{questions[con].id_pregunta}}.jpg" alt="">
            </figure>
        </div>  
        <div class="container-answers">
            <div class="container-answer" *ngFor="let answer of answers[questions[con].tipo_respuestas]; let indice=index">
                <figure class="answer-image" 
                        [ngClass]="{
                            'answer-image-primary': opcionActivaAux === indice
                         }">
                    <img class="img" [src]="'assets/images/answers/' + answer.url_imagen" [alt]="answer.opcion" (click)="checkAnswer(indice, answer.puntos)">
                </figure>
                <p class="answer-text"> {{answer.opcion}} </p>
            </div>
                      
            <div class="button-next-container">
                <input type= "button" value= "Siguiente" class="btn btn-primary btn-submit" (click)="siguiente(questions[con].tipo_pregunta)">
            </div>
                   
        </div>
    </div>

    
    <ng-template #finalizar>
        <div class="button-end-container">
            <input type= "button" value= "Finalizar" class="btn btn-primary btn-submit" (click)="concluir()">
        </div>
    </ng-template>

</div>